<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PawShelter - Feeding Schedule</title>
    <link rel="stylesheet" href="../../css/base.css">
    <link rel="stylesheet" href="../../css/modal.css">
    <link rel="stylesheet" href="feeding.css">
</head>
<body>
    <div class="app">
        <!-- SIDEBAR loaded dynamically from sidebar.html -->

        <!-- MAIN CONTENT -->
        <main class="main-content" id="mainContent">
            <!-- HEADER -->
            <header class="header">
                <div class="header-left">
                    <button class="menu-btn" onclick="toggleSidebar()">â˜°</button>
                    <div class="header-page-title">
                        <h1>PawShelter Feeding</h1>
                        <p>Manage feeding schedules and auto feeders</p>
                    </div>
                </div>

                <div class="header-right">
                    <button class="header-btn" onclick="window.location.href='../alerts/alerts.html'" title="Notifications">
                        ğŸ””
                        <span class="notification-badge" id="notificationBadge"></span>
                    </button>
                    <div class="settings-menu-container">
                        <button class="header-btn" onclick="toggleSettingsMenu()" title="Settings">âš™ï¸</button>
                        <div class="settings-menu" id="settingsMenu">
                            <div class="settings-menu-item" onclick="openSettingsProfile()">
                                <span class="settings-menu-icon">ğŸ‘¤</span>
                                <span>Profile</span>
                            </div>
                            <div class="settings-menu-item" onclick="openSettingsPreferences()">
                                <span class="settings-menu-icon">âš™ï¸</span>
                                <span>Preferences</span>
                            </div>
                            <div class="settings-menu-item" onclick="openSettingsNotifications()">
                                <span class="settings-menu-icon">ğŸ””</span>
                                <span>Notifications</span>
                            </div>
                            <div class="settings-menu-divider"></div>
                            <div class="settings-menu-item" onclick="openSettingsHelp()">
                                <span class="settings-menu-icon">â“</span>
                                <span>Help & Support</span>
                            </div>
                            <div class="settings-menu-item" onclick="openSettingsAbout()">
                                <span class="settings-menu-icon">â„¹ï¸</span>
                                <span>About</span>
                            </div>
                            <div class="settings-menu-divider"></div>
                            <div class="settings-menu-item logout-item" onclick="handleLogout()">
                                <span class="settings-menu-icon">ğŸšª</span>
                                <span>Log Out</span>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- CONTENT -->
            <div class="content">
                <!-- FEEDING SECTION -->
                <section class="page-section active" id="feeding-section">
                    <!-- AUTO FEEDER DASHBOARD -->
                    <div class="species-tabs-container">
                        <div class="species-tabs">
                            <div class="species-tab active" onclick="filterFeedersBySpecies('Goat')" data-species="Goat">ğŸ Goats</div>
                            <div class="species-tab" onclick="filterFeedersBySpecies('Sugarglider')" data-species="Sugarglider">ğŸ¿ï¸ Sugar Gliders</div>
                            <div class="species-tab" onclick="filterFeedersBySpecies('Alligator')" data-species="Alligator">ğŸŠ Alligators</div>
                            <div class="species-tab" onclick="filterFeedersBySpecies('Snail')" data-species="Snail">ğŸŒ Snails</div>
                            <div class="species-tab" onclick="filterFeedersBySpecies('Porcupine')" data-species="Porcupine">ğŸ¦” Porcupines</div>
                            <div class="species-tab" onclick="filterFeedersBySpecies('Fox')" data-species="Fox">ğŸ¦Š Foxes</div>
                        </div>
                    </div>
                    <div class="feeder-dashboard-container" id="feederDashboard"></div>
                </section>
            </div>
        </main>
    </div>

    <!-- EDIT PORTION CONTROL MODAL -->
    <div class="modal" id="editPortionModal">
        <div class="modal-content">
            <div class="modal-header">
                <div>
                    <div class="modal-title">Edit Portion Control</div>
                    <div class="modal-subtitle" id="edit-modal-subtitle">Adjust feeding parameters</div>
                </div>
                <button class="modal-close" onclick="closeEditPortionModal()">Ã—</button>
            </div>
            <div class="modal-body" id="edit-portion-modal-body">
                <!-- Content will be inserted here dynamically -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeEditPortionModal()">Cancel</button>
                <button class="btn btn-primary" id="submit-edit-portion-btn" onclick="submitEditPortionControlModal()">Submit</button>
            </div>
        </div>
    </div>

    <!-- TOAST -->
    <div class="toast" id="toast"></div>

    <script src="../data.js"></script>
    <script src="../sidebar.js"></script>
    <script src="../utils.js"></script>
    <script src="../feeding/feeding.js"></script>
</body>
</html>